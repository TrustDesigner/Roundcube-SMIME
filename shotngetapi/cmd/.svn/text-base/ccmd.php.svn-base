<?php

if(isset($init_flag) == false)
	die;
	
/**
* This class is a base class for all command avaible with the api
* In this class, you can get command values using constants.
**/
abstract class CCmd {
	// ********************************************************************************************
	/** Command url: display a web page with the specified url */
	const CMD_URL = 'URL';
	/** Command cgv: display terms of sale, the user have to agree this page to continue */
	const CMD_CGV = 'CGV';
	
	const CMD_CONNECT = 'CONNECT';

	const CMD_DISCONNECT = 'DISCONNECT';
	
	/** Command authentication: ask account information for registration or conextion */
	const CMD_AUTH = 'AUTH';
	/** Command read: ask information. can't be a web account or paycard file. */
	const CMD_READ = 'READ';
	
	const CMD_RESP = 'RESP';
	
	const CMD_INIT = 'INIT';
	
	/** Command Payment: Ask payment information for online payment */
	const CMD_PAY = 'PAY';
	/**  */
	const CMD_PLUGIN = 'PLUGIN';

	const CMD_CBC = 'CBC';

	const CMD_LIST = 'LIST';
	
	/** Command type */
	private $value;
	
	// ********************************************************************************************
	public function __construct() {
		
	}
	
	/**
	* Load the command by passing a xml node in argument
	* @param $node The xml node who contains class atributes.
	*/
	public abstract function fromXml($node);
	
	// ********************************************************************************************
	/**
	* Use by the api. Convert the comand to xml for sending.
	* @param DOMDocument $dom: the target xml document
	* @return $node return a xml node can be added to the $dom
	*/
	public abstract function serializer(&$dom, $kpub);
	
	// ********************************************************************************************
	public function getValue() { return $this->value; }
	protected function setValue($value) { $this->value = $value; }
	
}

?>